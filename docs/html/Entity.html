<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hammerspoon docs: Entity</title>
    <style type="text/css">
      a { text-decoration: none; }
      a:hover { text-decoration: underline; }
      th { background-color: #DDDDDD; vertical-align: top; padding: 3px; }
      td { width: 100%; background-color: #EEEEEE; vertical-align: top; padding: 3px; }
      table { width: 100% ; border: 1px solid #0; text-align: left; }
      section > table table td { width: 0; }
    </style>
    <link rel="stylesheet" href="docs.css" type="text/css" media="screen" />
  </head>
  <body>
    <header>
      <h1><a href="./index.html">docs</a> &raquo; Entity</h1>
      <p>Entity class that represents some generic automatable desktop entity</p>

      </header>
      <h3>API Overview</h3>
      <ul>
        <li>Variables - Configurable values</li>
          <ul>
            <li><a href="#behaviors">behaviors</a></li>
            <li><a href="#selectionModalShortcuts">selectionModalShortcuts</a></li>
          </ul>
        <li>Methods - API calls which can only be made on an object returned by a constructor</li>
          <ul>
            <li><a href="#dispatchAction">dispatchAction</a></li>
            <li><a href="#getEventHandler">getEventHandler</a></li>
            <li><a href="#getSelectionItems">getSelectionItems</a></li>
            <li><a href="#initialize">initialize</a></li>
            <li><a href="#mergeShortcuts">mergeShortcuts</a></li>
            <li><a href="#notifyError">notifyError</a></li>
            <li><a href="#renderScriptTemplate">renderScriptTemplate</a></li>
            <li><a href="#showSelectionModal">showSelectionModal</a></li>
          </ul>
      </ul>
      <h3>API Documentation</h3>
        <h4 class="documentation-section">Variables</h4>
          <section id="behaviors">
            <a name="//apple_ref/cpp/Variable/behaviors" class="dashAnchor"></a>
            <h5><a href="#behaviors">behaviors</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity.behaviors</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Variable</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>A table keyed by mode name to define (optional) entity behavior contextual to the mode at the time of an event. The table values are functions that take in the following arguments to invoke the event handler in some mode-specific way:</p>
<ul>
<li><code>self</code> - the entity (or subclassed entity) instance</li>
<li><code>eventHandler</code> - the event handler to be invoked within the function</li>
<li><code>flags</code> - A table containing the keyboard modifiers in the keyboard event (from <code>hs.eventtap.event:getFlags()</code>)</li>
<li><code>keyName</code> - A string containing the name of a keyboard key (in <code>hs.keycodes.map</code>)</li>
</ul>
<p>The table is defined with an <code>__add</code> metamethod to overwrite the default entity behaviors.</p>
</td>
              </tr>
            </table>
          </section>
          <section id="selectionModalShortcuts">
            <a name="//apple_ref/cpp/Variable/selectionModalShortcuts" class="dashAnchor"></a>
            <h5><a href="#selectionModalShortcuts">selectionModalShortcuts</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity.selectionModalShortcuts</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Variable</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>A list of shortcuts that can be used when the selection modal is visible. The following shortcuts are available by default:</p>
<ul>
<li><kbd>^k</kbd> to navigate up an item</li>
<li><kbd>^j</kbd> to navigate down an item</li>
</ul>
</td>
              </tr>
            </table>
          </section>
        <h4 class="documentation-section">Methods</h4>
          <section id="dispatchAction">
            <a name="//apple_ref/cpp/Method/dispatchAction" class="dashAnchor"></a>
            <h5><a href="#dispatchAction">dispatchAction</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity:dispatchAction(mode, shortcut) -&gt; boolean</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Dispatch an action from a shortcut within the context of the given mode</p>
<p>Parameters:</p>
<ul>
<li><code>mode</code> - The name of the current mode</li>
<li><code>shortcut</code> - A shortcut object containing the keybindings and event handler for the entity</li>
</ul>
<p>Returns:</p>
<ul>
<li>A boolean denoting to whether enable or disable automatic mode exit after the action has been dispatched</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="getEventHandler">
            <a name="//apple_ref/cpp/Method/getEventHandler" class="dashAnchor"></a>
            <h5><a href="#getEventHandler">getEventHandler</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity:getEventHandler(shortcuts, flags, keyName)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the event handler within the provided shortcuts with the given shortcut keybindings, or nil if not found</p>
<p>Parameters:</p>
<ul>
<li><code>shortcuts</code> - The list of shortcut objects</li>
<li><code>flags</code> - A table containing the keyboard modifiers in the keyboard event (from <code>hs.eventtap.event:getFlags()</code>)</li>
<li><code>keyName</code> - A string containing the name of a keyboard key (in <code>hs.keycodes.map</code>)</li>
</ul>
<p>Returns:</p>
<ul>
<li>A boolean denoting to whether enable or disable automatic mode exit after the action has been dispatched</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="getSelectionItems">
            <a name="//apple_ref/cpp/Method/getSelectionItems" class="dashAnchor"></a>
            <h5><a href="#getSelectionItems">getSelectionItems</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity:getSelectionItems() -&gt; table of choices or nil</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns a list of <a href="https://www.hammerspoon.org/docs/hs.chooser.html#choices">choice</a> objects to display in the selection modal. Entities intended to be used with select mode must implement this method to correctly display items in the selection modal.</p>
<p>Returns:</p>
<ul>
<li><code>selectionItems</code> - A list of choices or <code>nil</code></li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="initialize">
            <a name="//apple_ref/cpp/Method/initialize" class="dashAnchor"></a>
            <h5><a href="#initialize">initialize</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity:initialize(name, shortcuts, autoExitMode)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Initializes a new entity instance with its name and shortcuts. By default, a <code>cheatsheet</code> object will be initialized on the entity object with metadata in the provided shortcut keybindings, and dispatched actions will automatically exit the current mode by default unless the <code>autoExitMode</code> parameter is explicitly set to <code>false</code>.</p>
<p>Parameters:</p>
<ul>
<li><code>name</code> - The entity name</li>
<li><code>shortcuts</code> - The list of shortcuts containing keybindings and actions for the entity</li>
<li><code>autoExitMode</code> - A boolean denoting to whether enable or disable automatic mode exit after the action has been dispatched</li>
</ul>
<p>Each <code>shortcut</code> item should be a list with items at the following indices:</p>
<ul>
<li><code>1</code> - An optional table containing zero or more of the following keyboard modifiers: <code>"cmd"</code>, <code>"alt"</code>, <code>"shift"</code>, <code>"ctrl"</code>, <code>"fn"</code></li>
<li><code>2</code> - The name of a keyboard key. String representations of keys can be found in <a href="https://www.hammerspoon.org/docs/hs.keycodes.html#map"><code>hs.keycodes.map</code></a>.</li>
<li><code>3</code> - The event handler that defines the action for when the shortcut is triggered</li>
<li><code>4</code> - A table containing the metadata for the shortcut, also a list with items at the following indices:<ul>
<li><code>1</code> - The category name of the shortcut</li>
<li><code>2</code> - A description of what the shortcut does</li>
</ul>
</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="mergeShortcuts">
            <a name="//apple_ref/cpp/Method/mergeShortcuts" class="dashAnchor"></a>
            <h5><a href="#mergeShortcuts">mergeShortcuts</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity.mergeShortcuts(fromList, toList) -&gt; table</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Merges lists of shortcuts based on their keybindings</p>
<p>Parameters:</p>
<ul>
<li><code>fromList</code> - The list of shortcuts to apply onto the second list argument</li>
<li><code>toList</code> - The target list of shortcuts to override with those in the first list argument with conflicting keybindings</li>
</ul>
<p>Returns:</p>
<ul>
<li><code>list</code> - The list of merged shortcut objects</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="notifyError">
            <a name="//apple_ref/cpp/Method/notifyError" class="dashAnchor"></a>
            <h5><a href="#notifyError">notifyError</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity.notifyError(message, details)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Displays error details in a notification and logs to the Hammerspoon console</p>
<p>Parameters:</p>
<ul>
<li><code>message</code> - The main notification message</li>
<li><code>details</code> - The textual body of the notification containing details of the error</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="renderScriptTemplate">
            <a name="//apple_ref/cpp/Method/renderScriptTemplate" class="dashAnchor"></a>
            <h5><a href="#renderScriptTemplate">renderScriptTemplate</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity.renderScriptTemplate(scriptName[, viewModel]) -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Generates an applescript from templates located in <code>src/osascripts</code> with some view model object</p>
<p>Parameters:</p>
<ul>
<li><code>scriptName</code> - The applescript file name</li>
<li><code>viewModel</code> - An optional <a href="http://olivinelabs.com/lustache/">lustache</a> view model</li>
</ul>
<p>Returns:</p>
<ul>
<li>The rendered script string</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="showSelectionModal">
            <a name="//apple_ref/cpp/Method/showSelectionModal" class="dashAnchor"></a>
            <h5><a href="#showSelectionModal">showSelectionModal</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>Entity.showSelectionModal(choices, eventHandler, ...)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Shows a selection modal with a list of choices. The modal can be closed with Escape <kbd>âŽ‹</kbd>.</p>
<p>Parameters:</p>
<ul>
<li><code>choices</code> - A list of <a href="https://www.hammerspoon.org/docs/hs.chooser.html#choices">choice</a> objects to display on the chooser modal</li>
<li><code>eventHandler</code> - The callback function invoked when a choice is selected from the modal</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
</td>
              </tr>
            </table>
          </section>
  </body>
</html>